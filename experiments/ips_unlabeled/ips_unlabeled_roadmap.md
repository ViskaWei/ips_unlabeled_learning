# ğŸ—ºï¸ IPS Unlabeled Roadmap
> **ID:** EXP-20260128-ips_unlabeled-roadmap
> **Topic:** ips_unlabeled | **Phase:** 1
> **Author:** Viska Wei | **Date:** 2026-01-28 | **Status:** ğŸ”„

```
ğŸ’¡ å½“å‰é˜¶æ®µç›®æ ‡
Gateï¼šéªŒè¯ trajectory-free loss åœ¨ç®€å•ç³»ç»Ÿä¸Šçš„æœ‰æ•ˆæ€§
```

---

## ğŸ”— Related Files
| Type | File |
|------|------|
| ğŸ§  Hub | `ips_unlabeled_hub.md` |
| ğŸ“— Experiments | `exp_*.md` |

---

# 1. ğŸš¦ Decision Gates

## 1.1 æˆ˜ç•¥è·¯çº¿ (æ¥è‡ªHub)

| Route | åç§° | Hubæ¨è | éªŒè¯Gate |
|-------|------|---------|----------|
| **A** | NN + Trajectory-free loss | ğŸŸ¢ **æ¨è** | Gate-1, Gate-2 |
| B | Kernel + Trajectory-free loss | ğŸŸ¡ | Gate-3 |

## 1.2 Gateå®šä¹‰

### Gate-1: Loss æœ‰æ•ˆæ€§éªŒè¯

| é¡¹ | å†…å®¹ |
|----|------|
| éªŒè¯ | Trajectory-free loss èƒ½å¦åœ¨ç®€å•1Dç³»ç»Ÿå­¦ä¹ åŠ¿å‡½æ•° |
| MVP | MVP-1.0 |
| è‹¥ è¯¯å·®<10% | â†’ ç»§ç»­ Route Aï¼Œæ‰©å±•åˆ°å¤šç²’å­/é«˜ç»´ |
| è‹¥ è¯¯å·®â‰¥10% | â†’ æ£€æŸ¥ loss æ¨å¯¼ï¼Œæˆ–å°è¯• Route B |
| **çŠ¶æ€** | âŒ **FAIL** |
| **ç»“æœ** | V è¯¯å·® 98-162%, Î¦ è¯¯å·® 19-94%ï¼ŒLossâ†’0 ä½†åŠ¿å‡½æ•°å®Œå…¨é”™è¯¯ |
| **åŸå› ** | Identifiability é—®é¢˜ï¼šV-Î¦ å¯ç›¸äº’æŠµæ¶ˆä½¿ loss=0 |
| **ä¸‹ä¸€æ­¥** | é‡æ–°å®¡è§† loss è®¾è®¡ï¼Œæ·»åŠ çº¦æŸï¼Œæˆ–å°è¯• Route B |

### Gate-2: NN æ¶æ„éªŒè¯

| é¡¹ | å†…å®¹ |
|----|------|
| éªŒè¯ | MLP èƒ½å¦ç¨³å®šæ”¶æ•›å¹¶å­¦ä¹ åŠ¿å‡½æ•° |
| MVP | MVP-1.1 |
| è‹¥ æ”¶æ•›ç¨³å®š | â†’ å›ºå®š MLP æ¶æ„ |
| è‹¥ ä¸ç¨³å®š | â†’ å°è¯• ResNet / å…¶ä»–æ¶æ„ |
| çŠ¶æ€ | â³ |

### Gate-3: æ•°æ®é‡æ•æ„Ÿæ€§

| é¡¹ | å†…å®¹ |
|----|------|
| éªŒè¯ | æœ€å°æ•°æ®é‡éœ€æ±‚ (L, M, N) |
| MVP | MVP-2.0 |
| è‹¥ L=10, M=100 è¶³å¤Ÿ | â†’ è®¾ä¸º baseline é…ç½® |
| è‹¥ éœ€è¦æ›´å¤š | â†’ è°ƒæ•´å®éªŒè®¾è®¡ |
| çŠ¶æ€ | â³ |

## 1.3 æœ¬å‘¨é‡ç‚¹

| ä¼˜å…ˆçº§ | MVP | Gate | çŠ¶æ€ |
|--------|-----|------|------|
| âœ… å·²å®Œæˆ | MVP-0.0 | - | âœ… |
| âŒ å·²å¤±è´¥ | MVP-1.0 | Gate-1 | âŒ identifiability é—®é¢˜ |
| ğŸ”´ P0 | MVP-1.1 (æ·»åŠ çº¦æŸ) | Gate-1 é‡è¯• | ğŸ”´ å°±ç»ª |
| ğŸ”´ P0 | MVP-1.2 (ç†è®ºæ£€æŸ¥) | Gate-1 | ğŸ”´ å°±ç»ª |
| ğŸŸ¡ P1 | MVP-2.0 (Route B) | Gate-3 | â³ è€ƒè™‘ä¸­ |

---

# 2. ğŸ“‹ MVPåˆ—è¡¨

## 2.1 æ€»è§ˆ

| MVP | åç§° | Phase | Gate | é˜¶æ®µ | ä¾èµ– | çŠ¶æ€ | çª—å£ | exp_id | æŠ¥å‘Š |
|-----|------|-------|------|------|------|------|------|--------|------|
| 0.0 | æ•°æ®ç”Ÿæˆ + Baseline | 0 | - | ğŸ”æ¢ç´¢ | - | âœ… | - | `IPS-20260128-baseline-01` | [link](./exp/exp_baseline_data_20260128.md) |
| 1.0 | 1D ç®€å•ç³»ç»ŸéªŒè¯ | 1 | Gate-1 | ğŸ”æ¢ç´¢ | 0.0 | âŒ **FAIL** | - | `IPS-20260128-mvp1_0-01` | [link](./exp/exp_mvp1_0_20260128.md) |
| 1.0b | Î¦-only (known V) | 1 | Gate-1 | ğŸ”æ¢ç´¢ | 0.0 | âŒ **FAIL** | - | - | è§ MVP-1.0 æŠ¥å‘Š |
| 1.1 | æ·»åŠ  identifiability çº¦æŸ | 1 | Gate-1 | ğŸ”æ¢ç´¢ | 1.0 | ğŸ”´ **å°±ç»ª** | - | - | - |
| 1.2 | Loss å…¬å¼ç†è®ºæ£€æŸ¥ | 1 | Gate-1 | ğŸ”æ¢ç´¢ | 1.0 | ğŸ”´ **å°±ç»ª** | - | - | - |
| 2.0 | Route B: Kernel æ–¹æ³• | 2 | Gate-3 | ğŸ”æ¢ç´¢ | - | â³ | - | - | - |
| 2.1 | å¤šç²’å­ç³»ç»Ÿ (N=50) | 2 | - | ğŸ”æ¢ç´¢ | 1.1 | â³ é˜»å¡ | - | - | - |
| 3.0 | 2D ç³»ç»Ÿæ‰©å±• | 3 | - | ğŸ”æ¢ç´¢ | 1.1 | â³ é˜»å¡ | - | - | - |
| 4.0 | æœ€ç»ˆéªŒè¯ (å¤šseed) | 4 | Final | ğŸ¯æ”¶æ•› | 1-3 | â³ é˜»å¡ | - | - | - |

**çŠ¶æ€**: â³è®¡åˆ’ | ğŸ”´å°±ç»ª | ğŸš€è¿è¡Œ | âœ…å®Œæˆ | âŒå–æ¶ˆ
**é˜¶æ®µ**: ğŸ”æ¢ç´¢ï¼ˆæµ…è€Œå¹¿ï¼‰| ğŸ¯æ”¶æ•›ï¼ˆwandbå¿…é¡»å¼€å¯ï¼‰
**çª—å£**: æ ‡æ³¨å½“å‰å ç”¨çš„ç»ˆç«¯çª—å£ (A/B/C...)ï¼Œå®Œæˆåæ¸…ç©º

## 2.2 é…ç½®é€ŸæŸ¥

| MVP | ç»´åº¦ d | ç²’å­ N | å¿«ç…§ L | æ ·æœ¬ M | åŠ¿å‡½æ•° |
|-----|--------|--------|--------|--------|--------|
| 0.0 | 1 | 10 | 20 | 200 | Harmonic |
| 1.0 | 1 | 10 | 20 | 200 | Morse + Harmonic |
| 1.1 | 1 | 10 | 20 | 200 | Morse + Harmonic |
| 2.0 | 1 | 10 | 5-50 | 50-500 | Morse + Harmonic |
| 2.1 | 1 | 50 | 20 | 200 | Morse + Harmonic |
| 3.0 | 2 | 20 | 30 | 300 | Lennard-Jones |

---

# 3. ğŸ”§ MVPè§„æ ¼

## Phase 0: Baseline

### MVP-0.0: æ•°æ®ç”Ÿæˆ + Baseline

| é¡¹ | é…ç½® |
|----|------|
| ç›®æ ‡ | å®ç°æ•°æ®ç”Ÿæˆå™¨ï¼ŒéªŒè¯SDEæ¨¡æ‹Ÿæ­£ç¡®æ€§ |
| ç³»ç»Ÿ | 1D, N=10ç²’å­, Ïƒ=0.1 |
| åŠ¿å‡½æ•° | V(x)=0.5xÂ², Î¦(r)=0 (æ— äº¤äº’) |
| è¾“å‡º | ç”Ÿæˆ D={X_{t_â„“}}ï¼Œå¯è§†åŒ–ç²’å­åˆ†å¸ƒæ¼”åŒ– |
| éªŒæ”¶ | ç²’å­åˆ†å¸ƒç¬¦åˆç†è®ºé¢„æœŸ (Ornstein-Uhlenbeck) |

**ä»£ç ä»»åŠ¡**:
1. å®ç° SDE æ¨¡æ‹Ÿå™¨ (Euler-Maruyama)
2. ç”Ÿæˆæ— æ ‡ç­¾é›†åˆæ•°æ®
3. å¯è§†åŒ–éªŒè¯

---

## Phase 1: æ ¸å¿ƒéªŒè¯

### MVP-1.0: 1D ç®€å•ç³»ç»ŸéªŒè¯ (Gate-1)

| é¡¹ | é…ç½® |
|----|------|
| ç›®æ ‡ | éªŒè¯ trajectory-free loss èƒ½å­¦ä¹ åŠ¿å‡½æ•° |
| ç³»ç»Ÿ | 1D, N=10, L=20, M=200 |
| çœŸå®åŠ¿å‡½æ•° | V(x)=0.5xÂ², Î¦(r)=exp(-rÂ²) (Gaussian) |
| ç½‘ç»œ | MLP [d, 64, 64, 1] |
| Loss | Trajectory-free (å¼±å½¢å¼PDE) |
| éªŒæ”¶ | Relative LÂ² error < 10% on Î¦ and V |

**Loss ç»„æˆ**ï¼ˆå¼±å½¢å¼ä¸‰é¡¹ï¼‰:
- J_diss = Î£|âˆ‡V + âˆ‡Î¦*Î¼|Â² Î¼ dx Î”t ï¼ˆè€—æ•£é¡¹ï¼šç²’å­é—´æ–¥åŠ›/å¼•åŠ›ï¼‰
- J_diff = Ïƒ Î£(Î”V + Î”Î¦*Î¼) Î¼ dx Î”t ï¼ˆæ‰©æ•£é¡¹ï¼šéšæœºçƒ­è¿åŠ¨ï¼‰
- J_energy = -2 Î£(V + Î¦*Î¼) Î¼ dx |_{t_â„“}^{t_{â„“+1}} ï¼ˆèƒ½é‡å˜åŠ¨é¡¹ï¼šåˆ†å¸ƒæ•´ä½“æ°´å¹³ï¼‰

**å®ç°è¦ç‚¹**:
1. ä½¿ç”¨ AD è®¡ç®— âˆ‡V, âˆ‡Î¦, Î”V, Î”Î¦ï¼ˆé¿å…æ•°å€¼å¾®åˆ†å™ªå£°ï¼‰
2. å¯¹ç§°åŒ–çº¦æŸï¼šÎ¦(x) = Â½(Î¦Ìƒ(x) + Î¦Ìƒ(-x))
3. è®­ç»ƒé…ç½®ï¼šAdam optimizer, 1000 epochs, learning_rate=0.001
4. ç­–ç•¥æ€§é‡‡æ ·ï¼šæ—¶é—´æ‰¹æ¬¡æˆ–ç©ºé—´åˆ†å±‚æŠ½æ ·ï¼ˆå¯é€‰ä¼˜åŒ–ï¼‰

**éªŒè¯å†…å®¹**:
- [ ] Loss ä¸‰é¡¹æ˜¯å¦éƒ½èƒ½ç¨³å®šè®¡ç®—
- [ ] è®­ç»ƒæ˜¯å¦æ”¶æ•›
- [ ] å­¦åˆ°çš„ Î¦ å’Œ V ä¸çœŸå®å€¼çš„ LÂ² è¯¯å·®
- [ ] å¯è§†åŒ–å¯¹æ¯”ï¼šçœŸåŠ¿ vs å­¦å¾—åŠ¿
- [ ] æ•°å€¼ç¨³å®šæ€§æ£€æŸ¥ï¼ˆæ¢¯åº¦çˆ†ç‚¸/æ¶ˆå¤±ï¼‰

**ä»£ç ä»»åŠ¡**:
1. å®ç° trajectory-free lossï¼ˆä¸‰é¡¹åˆ†åˆ«å®ç°ï¼‰
2. å®ç° NN æ¨¡å‹ï¼ˆMLP with ADï¼‰
3. è®­ç»ƒå¾ªç¯ï¼ˆAdam, 1000 epochsï¼‰
4. è¯„ä¼°ï¼šè®¡ç®— LÂ² è¯¯å·®ï¼Œå¯è§†åŒ–å¯¹æ¯”

### MVP-1.1: NN æ¶æ„å¯¹æ¯” (Gate-2)

| é¡¹ | é…ç½® |
|----|------|
| ç›®æ ‡ | ç¡®å®šæœ€ä½³ NN æ¶æ„ |
| å¯¹æ¯” | MLP vs ResNet vs Fourier Features |
| éªŒæ”¶ | é€‰æ‹©æ”¶æ•›æœ€ç¨³å®šã€è¯¯å·®æœ€ä½çš„æ¶æ„ |

---

## Phase 2: æ•æ„Ÿæ€§åˆ†æ

### MVP-2.0: æ•°æ®é‡æ•æ„Ÿæ€§ (Gate-3)

| é¡¹ | é…ç½® |
|----|------|
| ç›®æ ‡ | ç¡®å®šæœ€å°æ•°æ®éœ€æ±‚ |
| å˜é‡ | L âˆˆ {5,10,20,50}, M âˆˆ {50,100,200,500} |
| éªŒæ”¶ | ç»˜åˆ¶è¯¯å·® vs (L,M) æ›²é¢ |

### MVP-2.1: å¤šç²’å­ç³»ç»Ÿ

| é¡¹ | é…ç½® |
|----|------|
| ç›®æ ‡ | éªŒè¯æ–¹æ³•åœ¨ N=50 ç²’å­æ—¶çš„æœ‰æ•ˆæ€§ |
| ç³»ç»Ÿ | 1D, N=50, L=20, M=200 |
| éªŒæ”¶ | è¯¯å·® < 15% |

---

## Phase 3: æ‰©å±•

### MVP-3.0: 2D ç³»ç»Ÿ

| é¡¹ | é…ç½® |
|----|------|
| ç›®æ ‡ | æ‰©å±•åˆ° 2D ç³»ç»Ÿ |
| ç³»ç»Ÿ | 2D, N=20, L=30, M=300 |
| åŠ¿å‡½æ•° | Lennard-Jones Î¦(r) = 4Îµ[(Ïƒ/r)Â¹Â² - (Ïƒ/r)â¶] |
| éªŒæ”¶ | è¯¯å·® < 15% |

---

# 4. ğŸ“Š è¿›åº¦è¿½è¸ª

## 4.1 çœ‹æ¿

```
â³è®¡åˆ’        ğŸ”´å°±ç»ª        ğŸš€è¿è¡Œ    âœ…å®Œæˆ    âŒå¤±è´¥
MVP-2.0       MVP-1.1                 MVP-0.0   MVP-1.0
MVP-2.1       MVP-1.2                           MVP-1.0b
MVP-3.0
```

## 4.2 Gateè¿›åº¦

| Gate | MVP | çŠ¶æ€ | ç»“æœ |
|------|-----|------|------|
| Gate-1 | MVP-1.0 | âŒ **FAIL** | V err=98-162%, Î¦ err=19-94%, identifiability é—®é¢˜ |
| Gate-1 (é‡è¯•) | MVP-1.1 | ğŸ”´ å°±ç»ª | æ·»åŠ  identifiability çº¦æŸåé‡è¯• |
| Gate-2 | - | â³ é˜»å¡ | ç­‰å¾… Gate-1 é€šè¿‡ |
| Gate-3 | MVP-2.0 | â³ è€ƒè™‘ä¸­ | Route B (Kernel æ–¹æ³•) ä½œä¸ºæ›¿ä»£ |

## 4.3 ç»“è®ºå¿«ç…§

| MVP | ç»“è®º | å…³é”®æŒ‡æ ‡ | åŒæ­¥Hub |
|-----|------|---------|---------|
| 0.0 | SDE æ•°æ®ç”Ÿæˆå™¨éªŒè¯é€šè¿‡ | KL=0.0005, var_err=0.42% | âœ… Â§6 |
| 1.0 | **FAIL**: Trajectory-free loss å­˜åœ¨ identifiability é—®é¢˜ | V err=162%, Î¦ err=94%, Lossâ†’0 | âœ… K1, Q1 |
| 1.0b | **FAIL**: å³ä½¿å›ºå®š Vï¼ŒÎ¦ ä»å­¦ä¸å¯¹ | Î¦ err=78%, Loss=0.018 | âœ… K3 |

## 4.4 æ—¶é—´çº¿

| æ—¥æœŸ | äº‹ä»¶ |
|------|------|
| 2026-01-28 | é¡¹ç›®ç«‹é¡¹ |
| 2026-01-28 | MVP-0.0 å®Œæˆ âœ… SDE æ•°æ®ç”ŸæˆéªŒè¯é€šè¿‡ |
| 2026-01-28 | MVP-1.0 å®Œæˆ âŒ å‘ç° identifiability é—®é¢˜ï¼ŒGate-1 å¤±è´¥ |
| 2026-01-28 | MVP-1.0b å®Œæˆ âŒ å›ºå®š V å Î¦ ä»å­¦ä¸å¯¹ (78% è¯¯å·®) |

---

# 5. ğŸ”— æ–‡ä»¶ç´¢å¼•

## 5.1 å®éªŒç´¢å¼•

| exp_id | topic | çŠ¶æ€ | MVP |
|--------|-------|------|-----|
| `IPS-20260128-baseline-01` | ips_unlabeled | âœ… å®Œæˆ | MVP-0.0 |
| `IPS-20260128-mvp1_0-01` | ips_unlabeled | âŒ å¤±è´¥ | MVP-1.0 |

## 5.2 è¿è¡Œè·¯å¾„

| MVP | è„šæœ¬ | é…ç½® | è¾“å‡º |
|-----|------|------|------|
| 0.0 | `scripts/generate_data.py` | - | `data/`, `results/mvp0_0/` |
| 1.0 | `scripts/train_nn.py` | å‘½ä»¤è¡Œå‚æ•° | `results/mvp1_0/` |
| 1.0b | `scripts/train_phi_only.py` | å‘½ä»¤è¡Œå‚æ•° | `results/mvp1_0_phi_only/` |

---

# 6. ğŸ“ é™„å½•

## 6.1 Loss å…¬å¼é€ŸæŸ¥

```
L(Î¦,V) = Î£_{m,â„“} [ J_diss + J_diff - 2*J_energy_change ]

J_diss = (1/N) Î£_i |âˆ‡V(X_i) + (1/N)Î£_j âˆ‡Î¦(X_i-X_j)|Â² Ã— Î”t

J_diff = (Ïƒ/NÂ²) Î£_{i,j} [Î”V(X_i) + Î”Î¦(X_i-X_j)] Ã— Î”t

J_energy = (1/NÂ²) Î£_{i,j} [V(X_i) + Î¦(X_i-X_j)]
```

## 6.2 æ›´æ–°æ—¥å¿—

| æ—¥æœŸ | å˜æ›´ | ç« èŠ‚ |
|------|------|------|
| 2026-01-28 | åˆ›å»º Roadmap | - |
| 2026-01-28 | MVP-0.0 å®éªŒè®¡åˆ’åˆ›å»º | Â§2.1, Â§5.1 |
| 2026-01-28 | MVP-0.0 å®Œæˆ âœ… | Â§4.3 |
| 2026-01-28 | MVP-1.0 å®Œæˆ âŒ å‘ç° identifiability é—®é¢˜ | Â§1.2, Â§2.1, Â§4.1-4.4 |
| 2026-01-28 | MVP-1.0b (Î¦-only) å®Œæˆ âŒ | Â§2.1, Â§4.3 |
| 2026-01-28 | è°ƒæ•´ MVP åˆ—è¡¨ï¼Œæ·»åŠ  MVP-1.1 (çº¦æŸ) å’Œ MVP-1.2 (ç†è®ºæ£€æŸ¥) | Â§2.1 |